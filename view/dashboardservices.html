<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelenne Car Wash - Services Menu</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../assets/css/index.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="stylesheet" href="../assets/css/inventory.css">
    <link rel="stylesheet" href="../assets/css/dashboardservices.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <style>

    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="logo">
                <i class='bx bxs-car-wash'></i>
                <span>KELENNE</span>
            </div>
            <nav>
                <a href="#" class="menu-item">
                    <i class='bx bx-calendar-plus'></i>
                    <span>Book a Service</span>
                </a>
                <a href="appointments.html" class="menu-item">
                    <i class='bx bx-calendar'></i>
                    <span>Appointments</span>
                </a>
                <a href="employee.html" class="menu-item">
                    <i class='bx bx-user'></i>
                    <span>Employees</span>
                </a>
                <a href="payments.html" class="menu-item">
                    <i class='bx bx-dollar'></i>
                    <span>Payments</span>
                </a>
                <a href="revenue-analytics.html" class="menu-item">
                    <i class='bx bx-line-chart'></i>
                    <span>Analytics</span>
                </a>
                <a href="inventory.html" class="menu-item">
                    <i class='bx bx-box'></i>
                    <span>Inventory</span>
                </a>
                <a href="customers.html" class="menu-item">
                    <i class='bx bx-group'></i>
                    <span>Customers</span>
                </a>
                <a href="dashboardservices.html" class="menu-item">
                    <i class='bx bx-list-ul'></i>
                    <span>Services</span>
                </a>
                <a href="equipments.html" class="menu-item">
                    <i class='bx bx-wrench'></i>
                    <span>Equipment</span>
                </a>
                <a href="promotions.html" class="menu-item">
                    <i class='bx bx-gift'></i>
                    <span>Promotions & Rewards</span>
                </a>
                <a href="#" class="menu-item">
                    <i class='bx bx-user'></i>
                    <span>Profile Settings</span>
                </a>
            </nav>
        </div>

        <div class="main-content">
            <!-- Service Statistics -->
            <div class="service-stats">
                <div class="stat-card">
                    <h3>Total Services</h3>
                    <div class="stat-value">12</div>
                </div>
                <div class="stat-card">
                    <h3>Active Services</h3>
                    <div class="stat-value">10</div>
                </div>
                <div class="stat-card">
                    <h3>Most Popular</h3>
                    <div class="stat-value">Basic Wash</div>
                </div>
            </div>

            <div class="actions-bar">
                <div class="search-bar">
                    <input type="text" placeholder="Search services..." id="searchInput">
                    <button class="btn btn-secondary" onclick="searchServices()">
                        <i class='bx bx-search'></i> Search
                    </button>
                </div>
                <button class="btn btn-primary" onclick="openAddModal()">
                    <i class='bx bx-plus'></i> Add New Service
                </button>
            </div>

            <div class="table-container">
                <table class="services-table">
                    <thead>
                        <tr>
                            <th>Service Name</th>
                            <th>Duration</th>
                            <th>Price (₦)</th>
                            <th>Description</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="servicesTableBody">
                        <tr>
                            <td>Basic Wash</td>
                            <td>30 mins</td>
                            <td>5,000</td>
                            <td>Exterior wash and basic interior cleaning</td>
                            <td><span class="service-status status-active">Active</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-icon btn-view" onclick="viewService(1)">
                                        <i class='bx bx-show'></i>
                                    </button>
                                    <button class="btn-icon btn-edit" onclick="editService(1)">
                                        <i class='bx bx-edit'></i>
                                    </button>
                                    <button class="btn-icon btn-delete" onclick="deleteService(1)">
                                        <i class='bx bx-trash'></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Premium Detailing</td>
                            <td>120 mins</td>
                            <td>15,000</td>
                            <td>Full interior and exterior detailing with wax</td>
                            <td><span class="service-status status-active">Active</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn-icon btn-view" onclick="viewService(2)">
                                        <i class='bx bx-show'></i>
                                    </button>
                                    <button class="btn-icon btn-edit" onclick="editService(2)">
                                        <i class='bx bx-edit'></i>
                                    </button>
                                    <button class="btn-icon btn-delete" onclick="deleteService(2)">
                                        <i class='bx bx-trash'></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Add/Edit Service Modal -->
    <div id="serviceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 id="modalTitle">Add New Service</h2>
            <form id="serviceForm">
                <div class="form-group">
                    <label for="serviceName">Service Name</label>
                    <input type="text" id="serviceName" required>
                </div>
                <div class="form-group">
                    <label for="duration">Duration (minutes)</label>
                    <input type="number" id="duration" required>
                </div>
                <div class="form-group">
                    <label for="price">Price (₦)</label>
                    <input type="number" id="price" required>
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea id="description" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="status">Status</label>
                    <select id="status" required>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Save Service</button>
            </form>
        </div>
    </div>

    <!-- View Service Details Modal -->
    <div id="viewServiceModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeViewModal()">&times;</span>
            <h2>Service Details</h2>
            <div id="serviceDetails">

            </div>
        </div>
    </div>

    <script>
        // Modal functions
        function openAddModal() {
            document.getElementById('serviceModal').style.display = 'block';
            document.getElementById('modalTitle').textContent = 'Add New Service';
            document.getElementById('serviceForm').reset();
        }

        function closeModal() {
            document.getElementById('serviceModal').style.display = 'none';
        }

        function closeViewModal() {
            document.getElementById('viewServiceModal').style.display = 'none';
        }

// Continuing the script tag content...

function viewService(id) {
    const viewModal = document.getElementById('viewServiceModal');
    const detailsContainer = document.getElementById('serviceDetails');
    
    const mockServiceDetails = `
        <div class="service-details">
            <p><strong>Service ID:</strong> ${id}</p>
            <p><strong>Service Name:</strong> ${id === 1 ? 'Basic Wash' : 'Premium Detailing'}</p>
            <p><strong>Duration:</strong> ${id === 1 ? '30 mins' : '120 mins'}</p>
            <p><strong>Price:</strong> ₦${id === 1 ? '5,000' : '15,000'}</p>
            <p><strong>Description:</strong> ${id === 1 ? 
                'Exterior wash and basic interior cleaning' : 
                'Full interior and exterior detailing with wax'}</p>
            <p><strong>Status:</strong> Active</p>
            <p><strong>Created Date:</strong> 2024-03-15</p>
            <p><strong>Last Updated:</strong> 2024-03-15</p>
            <p><strong>Popular Add-ons:</strong></p>
            <ul>
                ${id === 1 ? 
                    '<li>Interior Vacuum (₦1,000)</li><li>Tire Shine (₦500)</li>' : 
                    '<li>Clay Bar Treatment (₦3,000)</li><li>Paint Protection (₦5,000)</li>'}
            </ul>
        </div>
    `;
    
    detailsContainer.innerHTML = mockServiceDetails;
    viewModal.style.display = 'block';
}

function editService(id) {
    // Populate the form with existing service data
    document.getElementById('serviceModal').style.display = 'block';
    document.getElementById('modalTitle').textContent = 'Edit Service';
    
    // This is mock data for demonstration
    if (id === 1) {
        document.getElementById('serviceName').value = 'Basic Wash';
        document.getElementById('duration').value = '30';
        document.getElementById('price').value = '5000';
        document.getElementById('description').value = 'Exterior wash and basic interior cleaning';
        document.getElementById('status').value = 'active';
    } else {
        document.getElementById('serviceName').value = 'Premium Detailing';
        document.getElementById('duration').value = '120';
        document.getElementById('price').value = '15000';
        document.getElementById('description').value = 'Full interior and exterior detailing with wax';
        document.getElementById('status').value = 'active';
    }
}

function deleteService(id) {
    if (confirm('Are you sure you want to delete this service? This action cannot be undone.')) {

        // This is just a mock implementation
        const row = document.querySelector(`tr[data-id="${id}"]`);
        if (row) {
            row.remove();
        }
        alert('Service deleted successfully');
        
        // Update stats
        updateServiceStats();
    }
}

function searchServices() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    const rows = document.getElementById('servicesTableBody').getElementsByTagName('tr');
    
    for (let row of rows) {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(searchTerm) ? '' : 'none';
    }
}

// Form submission handler
document.getElementById('serviceForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form values
    const formData = {
        name: document.getElementById('serviceName').value,
        duration: document.getElementById('duration').value,
        price: document.getElementById('price').value,
        description: document.getElementById('description').value,
        status: document.getElementById('status').value
    };
    
    alert('Service saved successfully!');
    closeModal();
    
    
    updateServiceTable();
});

// Close modals when clicking outside
window.onclick = function(event) {
    if (event.target == document.getElementById('serviceModal')) {
        closeModal();
    }
    if (event.target == document.getElementById('viewServiceModal')) {
        closeViewModal();
    }
}

// Helper function to update service statistics
function updateServiceStats() {
    const rows = document.getElementById('servicesTableBody').getElementsByTagName('tr');
    const totalServices = rows.length;
    const activeServices = Array.from(rows).filter(row => 
        row.querySelector('.service-status').textContent === 'Active'
    ).length;
    
    // Update stats in cards
    document.querySelector('.stat-card:nth-child(1) .stat-value').textContent = totalServices;
    document.querySelector('.stat-card:nth-child(2) .stat-value').textContent = activeServices;
}

// Helper function to format price in Naira
function formatPrice(price) {
    return new Intl.NumberFormat('en-NG', {
        style: 'currency',
        currency: 'NGN'
    }).format(price);
}

// Initialize tooltips and other UI enhancements
document.addEventListener('DOMContentLoaded', function() {
    // Add hover effects to menu items
    const menuItems = document.querySelectorAll('.menu-item');
    menuItems.forEach(item => {
        item.addEventListener('mouseover', function() {
            this.style.background = 'rgba(255, 255, 255, 0.1)';
        });
        item.addEventListener('mouseout', function() {
            this.style.background = 'transparent';
        });
    });
    
    // Initialize service stats
    updateServiceStats();
});

</script>
</body>
</html>